<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scoreboard</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: url('lapangan.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .overlay {
      background: rgba(0, 0, 0, 0.7);
      border-radius: 20px;
      padding: 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 80%;
      max-width: 1200px;
      color: white;
    }

    .team {
      flex: 1;
      text-align: center;
    }

    .team h2 {
      font-size: 3rem;
      margin-bottom: 20px;
    }

    .score {
      font-size: 10rem;
      margin: 20px 0;
    }

    .center {
      flex: 1;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #timer {
      font-size: 6rem;
      margin: 20px 0;
      text-align: center;
    }

    .controls {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    button {
      font-size: 1.2rem;
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      color: black; /* default teks tombol hitam */
      background: white; /* default background tombol putih */
    }

    .edit-panel {
      display: none;
      margin-top: 20px;
      text-align: left;
      background: rgba(255,255,255,0.1);
      padding: 15px;
      border-radius: 10px;
    }

    .edit-panel label {
      display: block;
      margin: 8px 0 4px;
    }

    input[type=range] {
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="overlay" id="overlay">
    <div class="team">
      <h2 id="team1Name">TEAM A</h2>
      <div class="score" id="score1">0</div>
      <button onclick="changeScore(1,1)">+1</button>
      <button onclick="changeScore(1,-1)">-1</button>
    </div>

    <div class="center">
      <div id="timer">00:00:00</div>
      <div class="controls">
        <button onclick="startTimer()">START</button>
        <button onclick="pauseTimer()">PAUSE</button>
        <button onclick="resetTimer()">RESET</button>
      </div>
      <button onclick="toggleEdit()">EDIT</button>

      <div class="edit-panel" id="editPanel">
        <label>Nama Tim A: <input type="text" id="editTeam1" value="TEAM A"></label>
        <label>Nama Tim B: <input type="text" id="editTeam2" value="TEAM B"></label>
        <label>Background Lapangan: <input type="file" id="bgInput"></label>
        <label>Warna Teks Scoreboard: <input type="color" id="scoreboardColor" value="#ffffff"></label>
        <label>Warna Teks Tombol: <input type="color" id="buttonTextColor" value="#000000"></label>
        <label>Background Panel: <input type="color" id="panelColor" value="#000000"></label>
        <label>Transparansi Panel: <input type="range" id="panelAlpha" min="0" max="100" value="70"></label>

        <!-- Tambahan: Pilih format timer -->
        <label>Format Timer:
          <select id="timerFormat">
            <option value="mm">Menit (MM)</option>
            <option value="mm:ss">Menit:Detik (MM:SS)</option>
            <option value="mm:ss:cs" selected>Menit:Detik:Milidetik (MM:SS:CS)</option>
          </select>
        </label>

        <button onclick="applyEdit()">SIMPAN</button>
      </div>
    </div>

    <div class="team">
      <h2 id="team2Name">TEAM B</h2>
      <div class="score" id="score2">0</div>
      <button onclick="changeScore(2,1)">+1</button>
      <button onclick="changeScore(2,-1)">-1</button>
    </div>
  </div>

  <script>
    let score1 = 0, score2 = 0;
    let timer;
    let totalMilliseconds = 0, running = false;
    let timerFormat = "mm:ss:cs"; // default format

    function changeScore(team, delta) {
      if (team === 1) {
        score1 = Math.max(0, score1 + delta);
        document.getElementById('score1').innerText = score1;
      } else {
        score2 = Math.max(0, score2 + delta);
        document.getElementById('score2').innerText = score2;
      }
    }

    function updateTimer() {
      let mins = Math.floor(totalMilliseconds / 60000);
      let secs = Math.floor((totalMilliseconds % 60000) / 1000);
      let centis = Math.floor((totalMilliseconds % 1000) / 10);

      let display = "";
      if (timerFormat === "mm") {
        display = String(mins).padStart(2,'0');
      } else if (timerFormat === "mm:ss") {
        display = String(mins).padStart(2,'0') + ":" +
                  String(secs).padStart(2,'0');
      } else { // mm:ss:cs
        display = String(mins).padStart(2,'0') + ":" +
                  String(secs).padStart(2,'0') + ":" +
                  String(centis).padStart(2,'0');
      }

      document.getElementById('timer').innerText = display;
    }

    function startTimer() {
      if (!running) {
        running = true;
        timer = setInterval(() => {
          totalMilliseconds += 10;
          updateTimer();
        }, 10);
      }
    }

    function pauseTimer() {
      running = false;
      clearInterval(timer);
    }

    function resetTimer() {
      running = false;
      clearInterval(timer);
      totalMilliseconds = 0;
      updateTimer();
    }

    function toggleEdit() {
      let panel = document.getElementById('editPanel');
      panel.style.display = (panel.style.display === 'block') ? 'none' : 'block';
    }

    function applyEdit() {
      // update nama tim
      document.getElementById('team1Name').innerText =
        document.getElementById('editTeam1').value;
      document.getElementById('team2Name').innerText =
        document.getElementById('editTeam2').value;

      // update warna teks scoreboard
      let scoreboardColor = document.getElementById('scoreboardColor').value;
      document.getElementById('team1Name').style.color = scoreboardColor;
      document.getElementById('team2Name').style.color = scoreboardColor;
      document.getElementById('score1').style.color = scoreboardColor;
      document.getElementById('score2').style.color = scoreboardColor;
      document.getElementById('timer').style.color = scoreboardColor;

      // update warna teks tombol
      let buttonTextColor = document.getElementById('buttonTextColor').value;
      document.querySelectorAll('button').forEach(btn => {
        btn.style.color = buttonTextColor;
      });

      // update background panel
      let color = document.getElementById('panelColor').value;
      let alpha = document.getElementById('panelAlpha').value / 100;
      document.getElementById('overlay').style.background =
        hexToRgba(color, alpha);

      // update background lapangan
      let file = document.getElementById('bgInput').files[0];
      if (file) {
        let reader = new FileReader();
        reader.onload = e => {
          document.body.style.background = `url(${e.target.result}) no-repeat center center fixed`;
          document.body.style.backgroundSize = "cover";
        };
        reader.readAsDataURL(file);
      }

      // update format timer
      timerFormat = document.getElementById('timerFormat').value;
      updateTimer();
    }

    function hexToRgba(hex, alpha) {
      let r = parseInt(hex.slice(1,3),16);
      let g = parseInt(hex.slice(3,5),16);
      let b = parseInt(hex.slice(5,7),16);
      return `rgba(${r},${g},${b},${alpha})`;
    }

    // tampilkan timer awal
    updateTimer();
  </script>
</body>
</html>
